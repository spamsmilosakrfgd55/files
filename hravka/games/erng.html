<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emoji RNG</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f0f8ff;
            padding: 20px;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            overflow: hidden;
        }
        #animation {
            font-size: 80px;
            margin: 20px 0;
        }
        #result {
            margin-top: 20px;
            font-size: 20px;
            color: green;
        }
        #chance {
            font-size: 16px;
            color: darkorange;
            margin-top: 10px;
        }
        button {
            width: 100px;  /* ƒåtvercov√Ω tvar */
            height: 100px; /* ƒåtvercov√Ω tvar */
            font-size: 30px; /* Velk√© emoji */
            cursor: pointer;
            margin: 10px;
        }
        #inventory {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            border: 2px solid #ccc;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
            padding: 20px;
            z-index: 1000;
            width: 300px;
            max-height: 400px;
            overflow-y: auto;
        }
        .inventory-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 10px 0;
        }
        #close-inventory {
            cursor: pointer;
            float: right;
            font-size: 20px;
            color: red;
        }
    </style>
</head>
<body>
    <div id="animation"></div>
    <div id="result"></div>
    <div id="chance"></div>

    <div>
        <button onclick="rollDice()">üé≤</button>
        <button onclick="toggleInventory()">üì¶</button>
        <button onclick="clearProgress()">‚ùå</button>
    </div>

    <div id="inventory">
        <span id="close-inventory" onclick="toggleInventory()">‚úñ</span>
        <strong>Inventory:</strong>
        <div id="inventory-items"></div>
    </div>

    <script>
        const items = [
            { emoji: 'üçé', chance: 20 }, { emoji: 'üçå', chance: 15 }, { emoji: 'üçá', chance: 10 },
            { emoji: 'üçâ', chance: 8 }, { emoji: 'üçä', chance: 7 }, { emoji: 'üçã', chance: 6 },
            { emoji: 'üçç', chance: 5 }, { emoji: 'üçì', chance: 4 }, { emoji: 'ü•≠', chance: 3 },
            { emoji: 'üçí', chance: 2 }, { emoji: 'üéà', chance: 1 }, { emoji: 'üéÅ', chance: 1 },
            { emoji: 'üéä', chance: 1 }, { emoji: 'üéÇ', chance: 1 }, { emoji: 'üç∞', chance: 1 },
            { emoji: 'üåà', chance: 0.5 }, { emoji: 'üöÄ', chance: 0.5 }, { emoji: 'üèÜ', chance: 0.5 },
            { emoji: 'üé®', chance: 0.5 }, { emoji: 'üéµ', chance: 0.5 }, { emoji: 'üì±', chance: 0.5 },
            { emoji: 'üíª', chance: 0.5 }, { emoji: 'üéÆ', chance: 0.5 }, { emoji: 'üìì', chance: 0.5 },
            { emoji: 'üéâ', chance: 0.2 }, { emoji: 'üëë', chance: 0.2 }, { emoji: 'üîë', chance: 0.2 },
            { emoji: 'ü™ô', chance: 0.1 }, { emoji: 'üîÆ', chance: 0.1 }, { emoji: 'üé©', chance: 0.1 },
            { emoji: 'üï∂Ô∏è', chance: 0.05 }, { emoji: 'üéª', chance: 0.05 }, { emoji: 'üé∫', chance: 0.05 },
            { emoji: 'ü™ï', chance: 0.05 }, { emoji: 'üé∑', chance: 0.05 }, { emoji: 'üìñ', chance: 0.05 },
            { emoji: 'üé§', chance: 0.05 }, { emoji: 'üîî', chance: 0.05 }, { emoji: 'üéº', chance: 0.05 },
            { emoji: 'ü™ò', chance: 0.01 }, { emoji: 'üìÖ', chance: 0.01 }, { emoji: 'üîî', chance: 0.01 },
            { emoji: 'üíé', chance: 0.001 }, { emoji: 'üí∞', chance: 0.001 }, { emoji: 'üåç', chance: 0.001 },
            { emoji: '‚≠ê', chance: 0.0001 }, { emoji: '‚ú®', chance: 0.0001 }, { emoji: 'üåü', chance: 0.0001 },
            { emoji: '‚ö°', chance: 0.0001 }, { emoji: 'ü™ê', chance: 0.00001 }, { emoji: 'üåå', chance: 0.00001 },
            { emoji: 'üèÖ', chance: 0.00001 }, { emoji: 'ü•á', chance: 0.000001 }, { emoji: 'ü•à', chance: 0.000001 },
            { emoji: 'ü•â', chance: 0.000001 }, { emoji: 'üó°Ô∏è', chance: 0.000001 }, { emoji: 'üõ°Ô∏è', chance: 0.000001 },
            { emoji: 'üçÄ', chance: 18 }, { emoji: 'üéÉ', chance: 12 }, { emoji: 'üçÑ', chance: 9 },
            { emoji: 'üåª', chance: 7 }, { emoji: 'üíê', chance: 5 }, { emoji: 'üåº', chance: 4 },
            { emoji: 'üå∏', chance: 3 }, { emoji: 'üåà', chance: 2 }, { emoji: 'üçπ', chance: 2 },
            { emoji: 'ü•ù', chance: 1.5 }, { emoji: 'ü••', chance: 1.5 }, { emoji: 'üå∞', chance: 1.5 },
            { emoji: 'üçØ', chance: 1.5 }, { emoji: 'ü•ë', chance: 1.5 }, { emoji: 'üßÅ', chance: 1.5 },
            { emoji: 'üç™', chance: 1.5 }, { emoji: 'ü•û', chance: 1 }, { emoji: 'üçú', chance: 1 },
            { emoji: 'üç£', chance: 1 }, { emoji: 'üåÆ', chance: 1 }, { emoji: 'üçï', chance: 1 },
            { emoji: 'üå≠', chance: 1 }, { emoji: 'üçî', chance: 1 },
            { emoji: 'üåä', chance: 0.2 }, { emoji: 'üèùÔ∏è', chance: 0.1 }, { emoji: 'üö¢', chance: 0.1 },
            { emoji: '‚õµ', chance: 0.05 }, { emoji: 'üê¨', chance: 0.05 }, { emoji: 'üê†', chance: 0.05 },
            { emoji: 'üê≥', chance: 0.05 }, { emoji: 'üê¢', chance: 0.05 }, { emoji: 'ü¶à', chance: 0.01 },
            { emoji: 'ü¶©', chance: 0.01 }, { emoji: 'üê¶', chance: 0.01 }, { emoji: 'ü¶ú', chance: 0.01 },
            { emoji: 'üê∫', chance: 0.01 }, { emoji: 'ü¶ä', chance: 0.001 }, { emoji: 'üêâ', chance: 0.001 },
            { emoji: 'ü¶ï', chance: 0.0001 }, { emoji: 'ü¶ñ', chance: 0.0001 }, { emoji: 'üê≤', chance: 0.0001 },
            { emoji: 'üêæ', chance: 0.0001 }, { emoji: 'ü¶Å', chance: 0.00001 }, { emoji: 'üêÖ', chance: 0.00001 },
            { emoji: 'üêÜ', chance: 0.00001 }, { emoji: 'üêã', chance: 0.00001 }, { emoji: 'üê™', chance: 0.00001 },
            { emoji: 'üê´', chance: 0.00001 }, { emoji: 'ü¶ì', chance: 0.00001 }, { emoji: 'ü¶í', chance: 0.00001 },
            { emoji: 'ü¶ì', chance: 0.00001 }, { emoji: 'ü¶ä', chance: 0.00001 }, { emoji: 'üêò', chance: 0.00001 },
            { emoji: 'ü¶è', chance: 0.00001 }, { emoji: 'üêã', chance: 0.00001 }, { emoji: 'üêã', chance: 0.00001 },
            // P≈ôidejte v√≠ce unik√°tn√≠ch emoji s r≈Øzn√Ωmi ≈°ancemi
        ];

        let inventory = loadInventory();

        function rollDice() {
            const animation = document.getElementById('animation');
            const result = document.getElementById('result');
            const chanceDisplay = document.getElementById('chance');
            animation.innerHTML = '';
            result.innerHTML = '';
            chanceDisplay.innerHTML = '';

            // Animace p≈ôeblik√°v√°n√≠ emoji
            const duration = 3000; // 3 sekundy
            const interval = 100; // jak ƒçasto se mƒõn√≠ emoji
            const totalSteps = duration / interval;
            let currentStep = 0;

            const intervalId = setInterval(() => {
                const randomEmoji = items[Math.floor(Math.random() * items.length)].emoji;
                animation.innerHTML = randomEmoji;
                currentStep++;

                if (currentStep >= totalSteps) {
                    clearInterval(intervalId);
                    const selectedItem = selectItem();
                    animation.innerHTML = selectedItem.emoji;
                    result.innerHTML = `You got: ${selectedItem.emoji}`;
                    chanceDisplay.innerHTML = `Chance: ${selectedItem.chance}%`;
                    addToInventory(selectedItem);
                    saveInventory();
                }
            }, interval);
        }

        function selectItem() {
            const randomNumber = Math.random() * 100;
            let cumulativeChance = 0;

            for (const item of items) {
                cumulativeChance += item.chance;
                if (randomNumber <= cumulativeChance) {
                    return item;
                }
            }
        }

        function addToInventory(item) {
            const existingItem = inventory.find(i => i.emoji === item.emoji);
            if (existingItem) {
                existingItem.count++;
            } else {
                inventory.push({ emoji: item.emoji, count: 1, chance: item.chance });
            }
        }

        function saveInventory() {
            document.cookie = "inventory=" + JSON.stringify(inventory) + "; path=/";
        }

        function loadInventory() {
            const value = `; ${document.cookie}`;
            const parts = value.split(`; inventory=`);
            if (parts.length === 2) {
                return JSON.parse(parts.pop().split(';')[0]);
            }
            return [];
        }

        function clearProgress() {
            if (confirm("Do you want to clear your progress?")) {
                inventory = [];
                saveInventory();
                alert("Progress has been successfully deleted!");
            }
        }

        function toggleInventory() {
            const inventoryDiv = document.getElementById('inventory');
            const inventoryItemsDiv = document.getElementById('inventory-items');
            inventoryItemsDiv.innerHTML = '';

            inventory.forEach(item => {
                const itemDiv = document.createElement('div');
                itemDiv.className = 'inventory-item';
                itemDiv.innerHTML = `<span>${item.emoji} | ${item.count}x | ${item.chance}%</span>`;
                inventoryItemsDiv.appendChild(itemDiv);
            });

            inventoryDiv.style.display = inventoryDiv.style.display === 'none' ? 'block' : 'none';
        }
    </script>
</body>
</html>
